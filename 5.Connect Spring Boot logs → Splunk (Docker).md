## üî• Connect **Spring Boot logs ‚Üí Splunk (Docker)** (2 best ways)

You‚Äôre already running **Splunk** in Docker on port **3060**.
Now let‚Äôs send **Spring Boot logs** into it **properly**.

![Image](https://coralogix.com/wp-content/uploads/2025/03/image2-7.png)

![Image](https://splunk.deploy.heretto.com/v4/deployments/lbx3FHoDR4kUISPo5g64/object/8d1492e7-9d1b-4293-b0d1-24784bcf8e7c?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2pvcnNlay5jb20vZXpkX29yZ2FuaXphdGlvbiI6InNwbHVuayIsImh0dHBzOi8vam9yc2VrLmNvbS9lemQvb2JqZWN0X3V1aWQiOiI4ZDE0OTJlNy05ZDFiLTQyOTMtYjBkMS0yNDc4NGJjZjhlN2MiLCJleHAiOjE3Njc4NTQ4NDQsImp0aSI6IjQ5NWZlZDBkMDJjMTQxNzdiNWZiY2UwYjllOTk2NzczIiwiaHR0cHM6Ly9qb3JzZWsuY29tL2V6ZF9maWxlc2V0Ijoib05KMFowZ3JIa3hKWmpmMm1tblAifQ.cS-MBMGJ4Muk5zjC-n7pOMPGaQbcA5PHm5JtCI5eq7A)

![Image](https://community.splunk.com/t5/image/serverpage/image-id/20864i9E84947B87F73754?v=v2)

![Image](https://www.splunk.com/content/dam/splunk2/en_us/images/screenshots/observability/log-observer-connect/log-observer-connect-hero-dashboard.png)

---

# üß† Two integration methods (choose wisely)

| Method                            | Difficulty | Recommended      |
| --------------------------------- | ---------- | ---------------- |
| **A. File-based logging**         | ‚≠ê Easy     | ‚úÖ First step     |
| **B. HTTP Event Collector (HEC)** | ‚≠ê‚≠ê Medium  | üöÄ Best practice |

We‚Äôll do **A first**, then **B** (real-world & interview-grade).

---

# üÖ∞Ô∏è METHOD A ‚Äî File-based (BEGINNER, VERY RELIABLE)

### Architecture

```
Spring Boot
 ‚Üí logback file
 ‚Üí Docker volume
 ‚Üí Splunk monitors file
```

---

## STEP A1Ô∏è‚É£: Configure Spring Boot to write logs to file

Create / edit **`logback-spring.xml`**:

```xml
<configuration>

    <property name="LOG_PATH" value="/app/logs"/>

    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_PATH}/application.log</file>

        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_PATH}/application-%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>7</maxHistory>
        </rollingPolicy>

        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} %-5level %logger - %msg%n</pattern>
        </encoder>
    </appender>

    <root level="INFO">
        <appender-ref ref="FILE"/>
    </root>

</configuration>
```

Run your app ‚Üí logs appear at:

```
/app/logs/application.log
```

---

## STEP A2Ô∏è‚É£: Share Spring Boot logs with Splunk (Docker volume)

Stop Splunk:

```bash
docker stop splunk
```

Run Splunk **with volume mount**:

```bash
docker run -d \
  --name splunk \
  -p 3060:8000 \
  -p 8088:8088 \
  -v /app/logs:/springlogs \
  -e SPLUNK_GENERAL_TERMS=--accept-sgt-current-at-splunk-com \
  -e SPLUNK_START_ARGS=--accept-license \
  -e SPLUNK_PASSWORD=Saddam@nvn123 \
  splunk/splunk:latest
```

> `/app/logs` = Spring Boot log folder
> `/springlogs` = inside Splunk container

---

## STEP A3Ô∏è‚É£: Tell Splunk to monitor log file

Splunk UI ‚Üí

```
Settings ‚Üí Add Data ‚Üí Monitor ‚Üí Files & Directories
```

Path:

```
/springlogs/application.log
```

Index: `main`
Source type: `log`

Save ‚úÖ

---

## STEP A4Ô∏è‚É£: Search Spring Boot logs üéØ

```spl
index=main
```

Errors:

```spl
index=main ERROR
```

Exceptions:

```spl
NullPointerException
```

üéâ **Spring Boot logs are now in Splunk**

---

# üÖ±Ô∏è METHOD B ‚Äî HTTP Event Collector (BEST PRACTICE)

This is what **banks & enterprises prefer**.

### Architecture

```
Spring Boot
 ‚Üí HTTP Event Collector (8088)
 ‚Üí Splunk
```

---

## STEP B1Ô∏è‚É£: Enable HEC in Splunk

Splunk UI ‚Üí

```
Settings ‚Üí Data Inputs ‚Üí HTTP Event Collector ‚Üí New Token
```

* Name: `springboot-hec`
* Index: `main`
* Copy the **TOKEN** üîë

---

## STEP B2Ô∏è‚É£: Add dependency (Spring Boot)

```xml
<dependency>
  <groupId>com.splunk.logging</groupId>
  <artifactId>splunk-library-javalogging</artifactId>
  <version>1.11.8</version>
</dependency>
```

---

## STEP B3Ô∏è‚É£: Configure `logback-spring.xml` (HEC)

```xml
<appender name="SPLUNK" class="com.splunk.logging.HttpEventCollectorLogbackAppender">
    <url>http://localhost:8088</url>
    <token>YOUR_HEC_TOKEN</token>
    <index>main</index>
    <source>spring-boot</source>
    <sourcetype>json</sourcetype>

    <layout class="ch.qos.logback.classic.PatternLayout">
        <pattern>
            {
              "time":"%d{yyyy-MM-dd'T'HH:mm:ss}",
              "level":"%level",
              "logger":"%logger",
              "message":"%msg"
            }
        </pattern>
    </layout>
</appender>

<root level="INFO">
    <appender-ref ref="SPLUNK"/>
</root>
```

Restart app ‚Üí logs stream instantly ‚ö°

---

## üß† Which should YOU use?

* Learning & debugging ‚Üí **File-based**
* Interview / real project ‚Üí **HEC**

---

## üß† Interview-ready line

> ‚ÄúI integrated Spring Boot with Splunk using both file-based monitoring and HTTP Event Collector for real-time structured logging.‚Äù

---

## üîú Want next?

1Ô∏è‚É£ JSON structured logs (best parsing)
2Ô∏è‚É£ Dashboards for Spring Boot errors
3Ô∏è‚É£ Alerts (email / Slack)
4Ô∏è‚É£ Secure HEC with SSL
5Ô∏è‚É£ Compare HEC vs File-based (deep)

Say the number üëç
