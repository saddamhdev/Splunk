Below is **clean, reusable documentation** for **METHOD-1: File-based Spring Boot ‚Üí Splunk (Docker)**.
You can **save this as a README / PDF / Notion doc** and even **share in interviews**.

---

# üìò Method-1 Documentation

## File-based Log Integration: **Spring Boot ‚Üí Splunk (Docker)**

### Product

* **Splunk Enterprise (Docker)**
* Spring Boot (Logback)

---

## 1. Purpose

This document describes how to integrate **Spring Boot application logs** into **Splunk running in Docker** using **file-based monitoring**.

**Why Method-1?**

* Simple & reliable
* No SDK required
* Ideal for local development, POC, learning, and demos
* Widely used in dev / UAT environments

---

## 2. Architecture Overview

```
Spring Boot (Windows)
 ‚îî‚îÄ writes logs to application.log
      ‚Üì
Docker volume mount (/mnt/d/‚Ä¶)
      ‚Üì
Splunk Docker container
      ‚Üì
File Monitor Input
      ‚Üì
Splunk Index (main)
      ‚Üì
Search / Dashboards / Alerts
```

---

## 3. Prerequisites

* Windows 10/11
* Docker Desktop (WSL2 backend)
* Java + Spring Boot application
* Splunk Enterprise Docker image (`splunk/splunk`)
* Port `3060` available

---

## 4. Spring Boot Configuration

### 4.1 Logback Configuration

Create file:

```
src/main/resources/logback-spring.xml
```

```xml
<configuration>

    <property name="LOG_PATH" value="./logs"/>

    <appender name="FILE"
              class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_PATH}/application.log</file>

        <rollingPolicy
                class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>
                ${LOG_PATH}/application-%d{yyyy-MM-dd}.log
            </fileNamePattern>
            <maxHistory>7</maxHistory>
        </rollingPolicy>

        <encoder>
            <pattern>
                %d{yyyy-MM-dd HH:mm:ss} %-5level %logger - %msg%n
            </pattern>
        </encoder>
    </appender>

    <root level="INFO">
        <appender-ref ref="FILE"/>
    </root>

</configuration>
```

### 4.2 Verify Log File

Run the application and confirm:

```
D:\icsQuiz\SpringMVC\icsquiz\icsquiz\logs\application.log
```

Logs **must update** when the app runs.

---

## 5. Docker Path Mapping (Critical)

### Windows ‚Üí Docker path conversion

```
D:\icsQuiz\SpringMVC\icsquiz\icsquiz\logs
‚Üì
/mnt/d/icsQuiz/SpringMVC/icsquiz/icsquiz/logs
```

> Docker **cannot** read `D:\` directly.

---

## 6. Splunk Docker Installation

### 6.1 Run Splunk Container

```bash
docker run -d \
  --name splunk \
  -p 3060:8000 \
  -p 8088:8088 \
  -v /mnt/d/icsQuiz/SpringMVC/icsquiz/icsquiz/logs:/springlogs \
  -e SPLUNK_GENERAL_TERMS=--accept-sgt-current-at-splunk-com \
  -e SPLUNK_START_ARGS=--accept-license \
  -e SPLUNK_PASSWORD=Saddam@nvn123 \
  splunk/splunk:latest
```

### 6.2 Verify Container

```bash
docker ps
docker exec -it splunk ls /springlogs
```

Expected:

```
application.log
```

---

## 7. Splunk File Monitoring Configuration

### 7.1 Add Data Input

Splunk UI:

```
http://localhost:3060
```

Navigate:

```
Settings ‚Üí Add Data ‚Üí Monitor ‚Üí Files & Directories
```

**Path**

```
/springlogs/application.log
```

Choose:

* ‚úÖ **Continuously Monitor**

---

### 7.2 Source Type

Create new source type:

| Field    | Value              |
| -------- | ------------------ |
| Name     | `springboot:log`   |
| Category | Custom             |
| App      | Search & Reporting |

---

### 7.3 Input Settings

| Setting     | Value                 |
| ----------- | --------------------- |
| App Context | Search & Reporting    |
| Host        | Constant value (auto) |
| Index       | `main`                |

Submit ‚úî

---

## 8. Verification & Search Queries

### 8.1 Basic Verification

```spl
index=main sourcetype="springboot:log"
```

### 8.2 Common Queries

**Errors only**

```spl
index=main sourcetype="springboot:log" (ERROR OR WARN)
```

**Exceptions**

```spl
index=main sourcetype="springboot:log" Exception
```

**Last 15 minutes**

```spl
index=main sourcetype="springboot:log" earliest=-15m
```

---

## 9. Troubleshooting Guide

### No events found?

1. Expand time range ‚Üí **Last 24 hours / All time**
2. Check log file updates
3. Verify Docker mount:

   ```bash
   docker exec -it splunk ls -l /springlogs/application.log
   ```
4. Check Splunk internal logs:

   ```spl
   index=_internal
   ```

---

## 10. Advantages & Limitations

### ‚úÖ Advantages

* Simple to implement
* No application dependency
* Easy debugging
* Ideal for dev / UAT

### ‚ùå Limitations

* File dependency
* Less structured data
* Not ideal for high-throughput prod systems

---

## 11. When to Use Method-1

‚úî Local development
‚úî Learning Splunk
‚úî POC / Demo
‚úî Interview preparation

üöÄ For production ‚Üí **Method-2 (HTTP Event Collector)**

---

## 12. Interview-Ready Summary

> ‚ÄúI integrated Spring Boot logs into Splunk using file-based monitoring by mounting the application log directory into a Splunk Docker container and configuring a custom sourcetype.‚Äù

---

If you want, next I can:

* Convert this to **PDF**
* Add **architecture diagram**
* Create **dashboard + alert documentation**
* Write **Method-2 documentation** (HEC)

Just tell me üëç
